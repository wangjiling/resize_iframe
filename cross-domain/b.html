<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>resize iframe</title>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
            outline: 0;
        }
        body{
            background-color: #f5f8fa;
            font-size: 16px;
            padding: 50px 20px;
        }
        p{
            height: 1000px;
            background-color: red;
            text-align: center;
        }
    </style>
</head>
<body>

<p>www.vincent2.com</p>

<iframe id="agent_iframe"  height="0" width="0"  src="http://www.vincent1.com:3000/cross-domain/agent.html" style="display:none" ></iframe>

</body>
<script type="text/javascript">
    (function autoHeight(){
        console.log('clientWidth: ' + document.body.clientWidth + ' offsetWidth: ' + document.body.offsetWidth + ' scrollWidth: ' + document.body.scrollWidth);
        console.log('clientHeight: ' + document.body.clientHeight + ' offsetHeight: ' + document.body.offsetHeight + ' scrollHeight: ' + document.body.scrollHeight);
        var b_width = document.body.clientWidth || document.body.offsetWidth || document.body.scrollWidth;
        var b_height = document.body.clientHeight || document.body.offsetHeight || document.body.scrollHeight;
        var c_iframe = document.getElementById("agent_iframe");
        c_iframe.src = c_iframe.src + "#" + b_width + "|" + b_height;  // 这里通过hash传递b.html的宽高
    })();
</script>
</html>